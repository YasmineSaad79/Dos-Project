events {}

http {

  upstream catalog_upstream {
    server catalog-service-1:5001;
    server catalog-service-2:5001;
  }

  upstream order_upstream {
    server order-service-1:5002;
    server order-service-2:5002;
  }

  server {
    listen 80;

    # ğŸ“š Catalog (LB)
    location /catalog/ {
      proxy_pass http://catalog_upstream/;
    }

    # ğŸ›’ Order (LB)
    location /order/ {
      proxy_pass http://order_upstream/;
    }

    # ğŸŒ Client Service (DEFAULT)
    location / {
      proxy_pass http://client-service:5000;
    }
  }
}
